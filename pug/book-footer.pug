
// footer
footer.mainfooter
  .container
    .grid
      .col-6
        | Copyright 2018 SitePoint



script(src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js")

script(src="scripts/prism.js")

script.
  $(document).ready(function(){
    $('.showmobile').click(function(){
      $(this).toggleClass('open');
      $('.mobilenav').toggleClass('open');
    });
    $('.logged-out').click(function(){
      $('.login-panel').toggleClass('open');
    });
    $('.account-items').click(function(){
      $('.account-items').toggleClass('open');
    });
    $('.logout').click(function(){
      $('.sitepoint-branding').removeClass('member');
    });
  });
    $(window).resize(function(){ /* close the menu on screen resize */
      $('.showmobile').removeClass('open');
      $('.login-panel').removeClass('open');

    });

  /*
  $(function(){
    
    createSticky($("#toolstrip"));

  });

  function createSticky(sticky) {
    
    if (typeof sticky !== "undefined") {

      var	pos = (sticky.offset().top) - 72,
          win = $(window);
        
      win.on("scroll", function() {
          win.scrollTop() >= pos ? sticky.addClass("fixed") : sticky.removeClass("fixed");      
      });			
    }
  }*/


  function initToolbar(){

    const brand = document.querySelector('.sitepoint-branding');  // select the brand
    const toolbaroffset = brand.offsetHeight; // height of the brand

    const nav = document.querySelector('#toolstrip'); // height of the toolstrip
    const navTop = nav.offsetTop ; // distance from top edge
    const navMin = navTop/4; // the delay before the title rolls on to the titlebar

    function stickyNavigation() {
      console.log('navTop = ' + navTop);
      console.log('scrollY = ' + window.scrollY);
      console.log('toolbaroffset = ' + toolbaroffset);  

      if (window.scrollY >= navTop) { // If scroll pos is greater than 418
        // nav offsetHeight = height of nav
        document.body.style.paddingTop = nav.offsetHeight + 'px'; // Add padding-top to BODY to push down from strip
        nav.classList.add('fixed-nav');
      } else {
        document.body.style.paddingTop = 0;
        nav.classList.remove('fixed-nav');
      }
      if (window.scrollY >= navMin) {
        brand.classList.add('min');
      } else {
        brand.classList.remove('min');
      }
    }

    window.addEventListener('scroll', stickyNavigation);

  }
  initToolbar();